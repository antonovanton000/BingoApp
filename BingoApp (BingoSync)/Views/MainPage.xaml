<Page x:Class="BingoApp.Views.MainPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:cnt="clr-namespace:BingoApp.Controls"
      xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors"
      xmlns:local="clr-namespace:BingoApp.Views"
      xmlns:vm="clr-namespace:BingoApp.ViewModels"
      mc:Ignorable="d" 
      d:DesignHeight="940" d:DesignWidth="1440"
      Background="{StaticResource GradientBackgroundBrush}"
      x:Name="page"
      Loaded="page_Loaded"      
      Title="MainPage">
    <Page.DataContext>
        <vm:MainViewModel />
    </Page.DataContext>
    <Page.Resources>
        <Storyboard x:Key="titleAnimation">
            <DoubleAnimation Storyboard.TargetName="spTitle" Storyboard.TargetProperty="RenderTransform.(TranslateTransform.Y)"
                             From="-10" To="0" Duration="0:0:0.4"/>
            <DoubleAnimation Storyboard.TargetName="spTitle" Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:0.4"/>
        </Storyboard>
        <Storyboard x:Key="FirstBorderAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="border" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="43"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.3000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="border" Storyboard.TargetProperty="(UIElement.Opacity)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.3000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="border1" Storyboard.TargetProperty="(UIElement.Opacity)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.1000000" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.4000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="border1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00.1000000" Value="40"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.4000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="stackPanel" Storyboard.TargetProperty="(UIElement.Opacity)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.2000000" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.5000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="stackPanel" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00.2000000" Value="40"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.5000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>

        </Storyboard>
        <Storyboard x:Key="ActiveRoomAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="roomsCount" Storyboard.TargetProperty="(UIElement.Opacity)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:02" Value="0.01"/>
                <EasingDoubleKeyFrame KeyTime="00:00:02.2000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="btnActiveRooms" Storyboard.TargetProperty="(UIElement.Opacity)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01" Value="0.01"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01.2000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="btnActiveRooms" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.9" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01" Value="0.3"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01.2000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="btnActiveRooms" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.9" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01" Value="0.3"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01.2000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="btnActiveRooms" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                <EasingDoubleKeyFrame KeyTime="00:00:01.000000" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01.2000000" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01.4000000" Value="5"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01.5000000" Value="-5"/>
                <EasingDoubleKeyFrame KeyTime="00:00:01.6000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="FooterAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="stackPanel1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="45"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.4000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="textBlock" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="45"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.4000000" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="stackPanel1" Storyboard.TargetProperty="(UIElement.Opacity)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.4000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="textBlock" Storyboard.TargetProperty="(UIElement.Opacity)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:00.4000000" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="LinesBgAnimation" AutoReverse="True" RepeatBehavior="Forever">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="grid1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:50.1000000" Value="-45"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="grid1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="1"/>
                <EasingDoubleKeyFrame KeyTime="00:00:50.1000000" Value="1.5"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="grid1" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="1"/>
                <EasingDoubleKeyFrame KeyTime="00:00:50.1000000" Value="1.5"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="grid" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="00:00:50" Value="45"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="grid" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="1"/>
                <EasingDoubleKeyFrame KeyTime="00:00:50" Value="1.5"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="grid" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="1"/>
                <EasingDoubleKeyFrame KeyTime="00:00:50" Value="1.5"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </Page.Resources>
    <behaviors:Interaction.Triggers>
        <behaviors:EventTrigger EventName="Loaded" SourceObject="{Binding ElementName=page}">
            <behaviors:InvokeCommandAction Command="{Binding AppearingCommand}" />
        </behaviors:EventTrigger>
    </behaviors:Interaction.Triggers>
    <Page.Triggers>
        <EventTrigger RoutedEvent="Page.Loaded">
            <EventTrigger.Actions>
                <BeginStoryboard>
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.3"/>
                    </Storyboard>
                </BeginStoryboard>
                <BeginStoryboard Storyboard="{StaticResource titleAnimation}"/>
                <BeginStoryboard Storyboard="{StaticResource FirstBorderAnimation}"/>
                <BeginStoryboard Storyboard="{StaticResource FooterAnimation}"/>
                <BeginStoryboard Storyboard="{StaticResource LinesBgAnimation}"/>
            </EventTrigger.Actions>
        </EventTrigger>
    </Page.Triggers>
    <Grid ClipToBounds="True">
        <Grid x:Name="grid" RenderTransformOrigin="0.5,0.5" Panel.ZIndex="0">
            <Grid.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform/>
                    <TranslateTransform/>
                </TransformGroup>
            </Grid.RenderTransform>
            <Grid.Background>
                <ImageBrush ImageSource="/Images/tl_bg.png" Stretch="UniformToFill" Opacity="0.3"/>
            </Grid.Background>
        </Grid>
        <Grid x:Name="grid1" RenderTransformOrigin="0.5,0.5" Panel.ZIndex="0">
            <Grid.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform/>
                    <TranslateTransform/>
                </TransformGroup>
            </Grid.RenderTransform>
            <Grid.Background>
                <ImageBrush ImageSource="/Images/br_bg.png" Stretch="UniformToFill" Opacity="0.3"/>
            </Grid.Background>
        </Grid>
        <Viewbox Stretch="Uniform" VerticalAlignment="Top">
            <Grid>
                <!--<Button VerticalAlignment="Top" HorizontalAlignment="Center" Content="Test" Click="Button_Click"/>-->
                <Grid Margin="40,40,40,40">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="110"/>
                        <RowDefinition Height="1*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0" x:Name="spTitle">
                        <StackPanel.RenderTransform>
                            <TranslateTransform />
                        </StackPanel.RenderTransform>
                        <TextBlock Style="{StaticResource SubHeaderTextBlockBlockStyle}" Text="{Binding HelloMessage, Mode=OneWay}" FontWeight="Light" FontSize="40"/>
                        <TextBlock Style="{StaticResource FlatTextBlockStyle}" Text="{DynamicResource mp_welcomeMessage}"/>
                    </StackPanel>
                    <Grid  Margin="1066,-30,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"
                           Visibility="{Binding IsActiveRoomsVisible, Converter={StaticResource BoolToVisConverter}}">
                        <ToggleButton Width="265" Height="85"     
                              
                                      Background="Transparent" Foreground="Transparent"
                                      BorderThickness="0" Style="{StaticResource TransparentToggleButton}"
                                      IsHitTestVisible="{Binding ElementName=activeRoomsPopup, Path=IsOpen, Mode=OneWay, Converter={StaticResource NotConverter}}"
                                      x:Name="btnActiveRooms" RenderTransformOrigin="0.5,0.5">
                            <ToggleButton.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform/>
                                    <SkewTransform/>
                                    <RotateTransform/>
                                    <TranslateTransform/>
                                </TransformGroup>
                            </ToggleButton.RenderTransform>
                            <Border HorizontalAlignment="Left" VerticalAlignment="Center" Height="80" Width="260"
                                BorderBrush="{StaticResource BorderColorBrush}" BorderThickness="1" CornerRadius="10"
                                Background="{StaticResource BackgroundBrush}"                                                         
                                RenderTransformOrigin="0.5 0.5"
                                x:Name="activeRoomsPanel" 
                                >
                                <Border.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="1" ScaleY="1" x:Name="arscale"/>
                                        <TranslateTransform x:Name="artt" X="0" Y="0"/>
                                    </TransformGroup>
                                </Border.RenderTransform>
                                <Border.Effect>
                                    <DropShadowEffect ShadowDepth="0"
                                                  x:Name="arshadow"
                                      Color="White"
                                      Opacity="0"
                                      BlurRadius="5"/>
                                </Border.Effect>
                                <Border.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="arscale" Storyboard.TargetProperty="ScaleX"
                                                                 To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="arscale" Storyboard.TargetProperty="ScaleY"
                                                                 To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="arshadow" Storyboard.TargetProperty="Opacity"
                                                                 To="0.3" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="MouseLeave">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="arscale" Storyboard.TargetProperty="ScaleX"
                                                                 To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="arscale" Storyboard.TargetProperty="ScaleY"
                                                                 To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="arshadow" Storyboard.TargetProperty="Opacity"
                                                                 To="0" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Border.Triggers>
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Style.Triggers>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="80"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Margin="10,5,20,0">
                                        <TextBlock Text="{DynamicResource mp_activerooms}" Style="{StaticResource FlatTextBlockStyle}"
                                               VerticalAlignment="Center" Margin="0,0,0,7"
                                               FontSize="18" Foreground="#90FEFEFE"/>
                                        <TextBlock Text="{DynamicResource mp_allyourunfinish}" Style="{StaticResource FlatTextBlockStyle}"
                                               VerticalAlignment="Center" TextWrapping="Wrap" 
                                               FontSize="12" Foreground="#20FEFEFE"/>
                                    </StackPanel>
                                    <Grid Grid.Column="1">
                                        <Canvas HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                            <Rectangle Width="10" Height="10" Fill="#FAACA8" Canvas.Top="0" Canvas.Left="-9"/>
                                            <Ellipse Width="20" Height="20" Fill="{StaticResource BackgroundBrush}"
                                                     Canvas.Top="0" Canvas.Left="-20"/>
                                        </Canvas>
                                        <Border CornerRadius="0,10,10,10">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                    <GradientStop Color="#FAACA8" Offset="0"/>
                                                    <GradientStop Color="#DDD6F3" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Image Source="/Images/gamepad.png" Margin="12">
                                            <Image.Effect>
                                                <DropShadowEffect Opacity="0.23" BlurRadius="2"/>
                                            </Image.Effect>
                                        </Image>
                                    </Grid>
                                </Grid>
                            </Border>
                        </ToggleButton>
                        <Border CornerRadius="25" Height="25" Width="25" Background="{StaticResource Danger}"
                                        HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-1,0,0"
                                x:Name="roomsCount">
                            <TextBlock Text="{Binding ActiveRooms.Count}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                   Foreground="#FEFEFE"/>
                        </Border>
                        <Popup x:Name="activeRoomsPopup" Panel.ZIndex="100" StaysOpen="False"
                           IsOpen="{Binding ElementName=btnActiveRooms, Path=IsChecked}"
                                AllowsTransparency="True" Placement="Bottom" Margin="0,5,20,0"
                                HorizontalOffset="-57" PlacementTarget="{Binding ElementName=btnActiveRooms}"
                           VerticalOffset="10">
                            <Border Margin="0,5,0,0"
                                    Background="{StaticResource BackgroundBrush}" HorizontalAlignment="Left" VerticalAlignment="Top" CornerRadius="6" BorderThickness="1" BorderBrush="{StaticResource BorderColorBrush}" 
                                    Height="350" Width="320"
                                    Padding="10,10,10,0">
                                <Grid>

                                    <ScrollViewer HorizontalScrollBarVisibility="Disabled" Margin="0,0,0,0" VerticalScrollBarVisibility="Auto">
                                        <ItemsControl ItemsSource="{Binding ActiveRooms}">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border x:Name="activeBoardBorder" BorderThickness="0,0,0,0" CornerRadius="5" Margin="0,0,0,8" Background="#05FFFFFF" BorderBrush="{StaticResource BorderColorBrush}">
                                                        <behaviors:Interaction.Triggers>
                                                            <behaviors:EventTrigger EventName="MouseLeftButtonDown" SourceObject="{Binding ElementName=activeBoardBorder}">
                                                                <behaviors:InvokeCommandAction Command="{Binding DataContext.ContinueRoomCommand,ElementName=page}" 
                                                                                               CommandParameter="{Binding }"/>
                                                            </behaviors:EventTrigger>
                                                        </behaviors:Interaction.Triggers>
                                                        <Border.Triggers>
                                                            <EventTrigger RoutedEvent="MouseEnter">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetName="hoverbg" Storyboard.TargetProperty="Opacity"
                                                                                         To="1" Duration="0:0:0.2"/>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                            <EventTrigger RoutedEvent="MouseLeave">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetName="hoverbg" Storyboard.TargetProperty="Opacity"
                                                                                         To="0" Duration="0:0:0.2"/>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                        </Border.Triggers>
                                                        <Grid HorizontalAlignment="Stretch" Height="70">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="80"/>
                                                                <ColumnDefinition Width="1*"/>
                                                            </Grid.ColumnDefinitions>
                                                            <Border x:Name="hoverbg" CornerRadius="5" Opacity="0" Grid.ColumnSpan="2" Background="#10FFFFFF"/>
                                                            <Grid>
                                                                <Image Source="/Images/bingocolored.png" Margin="10"/>
                                                            </Grid>
                                                            <StackPanel Grid.Column="1" Margin="0,10,3,0">
                                                                <TextBlock Text="{Binding RoomName}" Style="{StaticResource FlatTextBlockStyle}" 
                                                                   VerticalAlignment="Center" FontSize="18" Foreground="#90FEFEFE" TextTrimming="CharacterEllipsis"
                                                                           Margin="0,0,60,0"/>
                                                                <TextBlock Text="{Binding CreationDate, StringFormat='dd/MM/yyyy HH:mm'}" Style="{StaticResource FlatTextBlockStyle}" 
                                                                   VerticalAlignment="Center" FontSize="13" Foreground="#30FEFEFE" Margin="0,5,0,0"/>
                                                            </StackPanel>
                                                            <Button Command="{Binding DataContext.EndGameCommand,ElementName=page}"
                                                            CommandParameter="{Binding }"
                                                            Style="{StaticResource IconButtonStyleColored}" 
                                                            Content="&#xe7C1;" HorizontalAlignment="Right"
                                                                    Foreground="{StaticResource Green}"
                                                                    Background="{StaticResource GreenAlpha20}"
                                                                    ToolTip="Finish Game"
                                                                    Grid.Column="2" Margin="0,0,10,0"
                                                            />
                                                            <StackPanel HorizontalAlignment="Right" VerticalAlignment="Center" Orientation="Horizontal" Visibility="Collapsed">
                                                                <Button Command="{Binding DataContext.ContinueRoomCommand,ElementName=page}"
                                                    
                                                            Style="{StaticResource IconButtonStyleColored}" 
                                                            Content="&#xe102;" HorizontalAlignment="Right"
                                                                    Foreground="{StaticResource Green}"
                                                                    Background="{StaticResource GreenAlpha20}"                                                        
                                                                    Margin="0,0,10,0" ToolTip="Continue Game"
                                                            />
                                                            </StackPanel>
                                                        </Grid>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel Orientation="Vertical"/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                        </ItemsControl>
                                    </ScrollViewer>
                                </Grid>
                            </Border>
                        </Popup>
                    </Grid>
                    <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,0,0,0" VerticalAlignment="Top">
                        <Border x:Name="border" Width="380" Height="680" BorderThickness="1" Background="{StaticResource BackgroundBrush}" BorderBrush="{StaticResource BorderColorBrush}"
                                Margin="0,0,40,0"
                                CornerRadius="24"
                                VerticalAlignment="Top"
                                Padding="0" RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform x:Name="p1scale"/>
                                    <SkewTransform/>
                                    <RotateTransform/>
                                    <TranslateTransform/>
                                </TransformGroup>
                            </Border.RenderTransform>
                            <Border.Effect>
                                <DropShadowEffect x:Name="p1shadow" ShadowDepth="0" Color="#FFB6BEE7" Opacity="0" BlurRadius="5"
                                                  />
                            </Border.Effect>
                            <Border.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <EventTrigger.Actions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="p1scale" Storyboard.TargetProperty="ScaleX"
                                                                 To="1.008" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p1scale" Storyboard.TargetProperty="ScaleY"
                                                                 To="1.008" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p1shadow" Storyboard.TargetProperty="Opacity"
                                                                 To="0.6" Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger.Actions>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <EventTrigger.Actions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="p1scale" Storyboard.TargetProperty="ScaleX"
                                                                 To="1" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p1scale" Storyboard.TargetProperty="ScaleY"
                                                                 To="1" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p1shadow" Storyboard.TargetProperty="Opacity"
                                                                 To="0" Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger.Actions>
                                </EventTrigger>
                            </Border.Triggers>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="250"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Grid>
                                    <Canvas HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                        <Rectangle Width="24" Height="24" Fill="#FFB6BEE7" Canvas.Bottom="-23" Canvas.Right="0"/>
                                        <Ellipse Width="48" Height="48" Fill="{StaticResource BackgroundBrush}"
                                                 Canvas.Bottom="-48" Canvas.Right="0"/>
                                    </Canvas>
                                    <Border CornerRadius="24,24,0,24" BorderThickness="0">
                                        <Border.Background>
                                            <LinearGradientBrush EndPoint="1,1" StartPoint="0,0" MappingMode="RelativeToBoundingBox" SpreadMethod="Reflect">
                                                <GradientStop Color="#FFE7E0B6" Offset="0"/>
                                                <GradientStop Color="#FFB6BEE7" Offset="0.60"/>
                                            </LinearGradientBrush>
                                        </Border.Background>
                                        <Border.Triggers>
                                            <EventTrigger RoutedEvent="Loaded">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.GradientStops)[0].Offset"
                                                                         From="0" To="0.6" Duration="0:0:5" RepeatBehavior="Forever" AutoReverse="True"/>
                                                        <DoubleAnimation Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.GradientStops)[1].Offset"
                                                                         From="0.6" To="0.9" Duration="0:0:5" RepeatBehavior="Forever" AutoReverse="True"/>
                                                        <PointAnimation From="0,0" To="0,0.3" Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.StartPoint)"
                                                                        Duration="0:0:5" RepeatBehavior="Forever" AutoReverse="True"/>
                                                        <PointAnimation From="1,1" To="1,0.7" Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.EndPoint)"
                                                                        Duration="0:0:5" RepeatBehavior="Forever" AutoReverse="True"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </Border.Triggers>
                                    </Border>
                                    <Image Source="/Images/createboard.png" Margin="60,40,60,0" Stretch="UniformToFill"/>
                                </Grid>
                                <StackPanel Grid.Row="1" Margin="20,0">
                                    <TextBlock Style="{StaticResource SubHeaderTextBlockBlockStyle}" Text="{DynamicResource mp_createanewroom}" HorizontalAlignment="Left" Margin="0,20,0,0"/>
                                    <TextBlock Style="{StaticResource FlatTextBlockStyle}" TextWrapping="Wrap"
                                               TextAlignment="Left" Margin="0,20">                                
                                        <Run Text="{DynamicResource mp_letscreateanewb}"/>
                                        <LineBreak/>
                                        <LineBreak/>
                                        <Run Text="{DynamicResource mp_youcanusethepre}"/>

                                    </TextBlock>
                                </StackPanel>
                                <Button Style="{StaticResource FlatButtonStylePrimaryWithPlus}" Content="{DynamicResource mp_createroom}"                                 
                                        Grid.Row="1" VerticalAlignment="Bottom" Margin="20,0,20,20"
                                        Command="{Binding CreateNewRoomCommand}"/>
                            </Grid>
                        </Border>
                        <Border x:Name="border1" Width="380" Height="680" BorderThickness="1" Background="{StaticResource BackgroundBrush}" BorderBrush="{StaticResource BorderColorBrush}"                        
                                Margin="0,0,40,0"
                                CornerRadius="24"
                                VerticalAlignment="Top"
                                Padding="0" RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform x:Name="p2scale"/>
                                    <SkewTransform/>
                                    <RotateTransform/>
                                    <TranslateTransform/>
                                </TransformGroup>
                            </Border.RenderTransform>
                            <Border.Effect>
                                <DropShadowEffect x:Name="p2shadow" ShadowDepth="0" Color="#f18ec0" Opacity="0" BlurRadius="5"/>
                            </Border.Effect>
                            <Border.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <EventTrigger.Actions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="p2scale" Storyboard.TargetProperty="ScaleX"
                                     To="1.008" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p2scale" Storyboard.TargetProperty="ScaleY"
                                     To="1.008" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p2shadow" Storyboard.TargetProperty="Opacity"
                                     To="1" Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger.Actions>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <EventTrigger.Actions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="p2scale" Storyboard.TargetProperty="ScaleX"
                                     To="1" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p2scale" Storyboard.TargetProperty="ScaleY"
                                     To="1" Duration="0:0:0.2"/>
                                                <DoubleAnimation Storyboard.TargetName="p2shadow" Storyboard.TargetProperty="Opacity"
                                     To="0" Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger.Actions>
                                </EventTrigger>
                            </Border.Triggers>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="250"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Grid>
                                    <Canvas HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,0,24" Panel.ZIndex="5">
                                        <Path Data="M0,0 L0,25 L24,24 A24,24 90 0 1 0,0" Fill="{StaticResource BackgroundBrush}" StrokeThickness="0"/>
                                    </Canvas>
                                    <Border CornerRadius="24,24,0,24" Margin="0,0,0,-25" Panel.ZIndex="0" BorderThickness="0">
                                        <Border.Background>
                                            <LinearGradientBrush EndPoint="1,0" StartPoint="0,1" MappingMode="RelativeToBoundingBox" SpreadMethod="Reflect">
                                                <GradientStop Color="#f18ec0" Offset="0"/>
                                                <GradientStop Color="#6B4CAC" Offset="0.69"/>
                                            </LinearGradientBrush>
                                        </Border.Background>
                                        <Border.Triggers>
                                            <EventTrigger RoutedEvent="Loaded">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.GradientStops)[0].Offset"
                                                                From="0" To="0.69" Duration="0:0:8" RepeatBehavior="Forever" AutoReverse="True"/>
                                                        <DoubleAnimation Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.GradientStops)[1].Offset"
                                                                From="0.69" To="0.9" Duration="0:0:8" RepeatBehavior="Forever" AutoReverse="True"/>
                                                        <PointAnimation From="1,0" To="1,1" Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.StartPoint)"
                                                                Duration="0:0:12" RepeatBehavior="Forever" AutoReverse="True"/>
                                                        <PointAnimation From="0,1" To="0,0" Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.EndPoint)"
                                                                Duration="0:0:12" RepeatBehavior="Forever" AutoReverse="True"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </Border.Triggers>
                                    </Border>
                                    <Image Source="/Images/connect.png" Stretch="UniformToFill"  Margin="40,20,40,0"/>
                                </Grid>
                                <Border Grid.Row="1" CornerRadius="0,24,24,24" Panel.ZIndex="5" Background="{StaticResource BackgroundBrush}">
                                    <Grid>
                                        <StackPanel Grid.Row="1" Margin="20,0">
                                            <TextBlock Style="{StaticResource SubHeaderTextBlockBlockStyle}" Text="{DynamicResource mp_connecttotheroo}" HorizontalAlignment="Left" Margin="0,20,0,0"/>
                                            <TextBlock Style="{StaticResource FlatTextBlockStyle}" TextWrapping="Wrap" HorizontalAlignment="Left"
                                                       TextAlignment="Left" Margin="0,20">                                
                                                <Run Text="{DynamicResource mp_justpastethelin}"/>
                                                <LineBreak/>
                                                <Run Text="{DynamicResource mp_appworkswithany}"/>
                                                <Run Text="bingosync.com" TextDecorations="Underline" Cursor="Hand" MouseLeftButtonDown="Run_MouseLeftButtonDown" Foreground="{StaticResource BingoColorNavy}"/>
                                                <Run Text="{DynamicResource mp_links}"/>
                                            </TextBlock>
                                            <cnt:InputFieldControl PlaceholderBackgroundColor="{StaticResource AccentColor}" Text="{Binding RoomUrl, Mode=TwoWay}" 
                                                                   Placeholder="https://bingosync.com/room/..." 
                                                                   Label="{DynamicResource mp_link}" Margin="0,10"/>
                                        </StackPanel>
                                        <Button Style="{StaticResource FlatButtonStylePrimary}" Visibility="{Binding IsBoardConnecting, Converter={StaticResource NotBoolToVisibilityConverter}}"
                                                Command="{Binding GetRoomConnectionInfoCommand}" IsEnabled="{Binding CanConnect}"
                                                Content="{DynamicResource mp_connect}" Grid.Row="1" VerticalAlignment="Bottom" Margin="20,0,20,20" />
                                        <cnt:SpinerControl Visibility="{Binding IsBoardConnecting, Converter={StaticResource BoolToVisConverter}}"
                                    IsSmall="True" HorizontalAlignment="Center" Grid.Row="1" VerticalAlignment="Bottom" 
                                                   Margin="20,0,20,20" SpinerColor="{StaticResource AccentColorBrush}"/>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Border>
                        <StackPanel x:Name="stackPanel" RenderTransformOrigin="0.5,0.5">
                            <StackPanel.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform/>
                                    <SkewTransform/>
                                    <RotateTransform/>
                                    <TranslateTransform/>
                                </TransformGroup>
                            </StackPanel.RenderTransform>
                            <Border Width="490" Height="200" BorderThickness="1" Background="{StaticResource BackgroundBrush}" BorderBrush="{StaticResource BorderColorBrush}"
                                Margin="0,0,0,40"
                                CornerRadius="24"
                                Padding="0">
                                <Border.RenderTransform>
                                    <ScaleTransform x:Name="p3scale"/>
                                </Border.RenderTransform>
                                <Border.Effect>
                                    <DropShadowEffect x:Name="p3shadow" ShadowDepth="0" Color="#f7a164" Opacity="0" BlurRadius="5"/>
                                </Border.Effect>
                                <Border.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="p3scale" Storyboard.TargetProperty="ScaleX"
                                                                    To="1.008" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p3scale" Storyboard.TargetProperty="ScaleY"
                                                                    To="1.008" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p3shadow" Storyboard.TargetProperty="Opacity"
                                                                    To="0.8" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="MouseLeave">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="p3scale" Storyboard.TargetProperty="ScaleX"
                                                                    To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p3scale" Storyboard.TargetProperty="ScaleY"
                                                                    To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p3shadow" Storyboard.TargetProperty="Opacity"
                                                                    To="0" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Border.Triggers>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="190"/>
                                        <ColumnDefinition Width="1*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid>
                                        <Canvas HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                            <Rectangle Width="24" Height="24" Fill="#F7A162" Canvas.Top="0" Canvas.Right="-23"/>
                                            <Ellipse Width="48" Height="48" Fill="{StaticResource BackgroundBrush}"
                                                 Canvas.Top="0" Canvas.Right="-48"/>
                                        </Canvas>
                                        <Border CornerRadius="24,0,24,24">
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="1,0" StartPoint="0,1" MappingMode="RelativeToBoundingBox" SpreadMethod="Reflect">
                                                    <GradientStop Color="#f5a720"/>
                                                    <GradientStop Color="#f7a164" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                        </Border>
                                        <Image Source="/Images/history.png" Stretch="UniformToFill"  Margin="20,20,20,0"/>
                                    </Grid>
                                    <StackPanel Grid.Column="1" Margin="20,0">
                                        <TextBlock Style="{StaticResource SubHeaderTextBlockBlockStyle}" Text="{DynamicResource mp_gameshistory}" HorizontalAlignment="Left" Margin="0,20,0,0"/>
                                        <TextBlock Style="{StaticResource FlatTextBlockStyle}" TextWrapping="Wrap" HorizontalAlignment="Left"
                                               TextAlignment="Left" Margin="0,10">                                
                                            <Run Text="{DynamicResource mp_theapplications}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Button Grid.Column="1" Style="{StaticResource FlatTextButtonStyle}"
                                            Command="{Binding OpenHistoryCommand}"                                        
                                                HorizontalAlignment="Left" HorizontalContentAlignment="Left"                                    
                                                Content="{DynamicResource mp_viewhistory}" Grid.Row="1" VerticalAlignment="Bottom" Margin="20,0,20,20"/>
                                </Grid>
                            </Border>
                            <Border Width="480" Height="200" BorderThickness="1" Background="{StaticResource BackgroundBrush}" BorderBrush="{StaticResource BorderColorBrush}"
                                Margin="0,0,0,40"
                                CornerRadius="24"
                                Padding="0">
                                <Border.RenderTransform>
                                    <ScaleTransform x:Name="p4scale"/>
                                </Border.RenderTransform>
                                <Border.Effect>
                                    <DropShadowEffect x:Name="p4shadow" ShadowDepth="0" Color="#FFA665" Opacity="0" BlurRadius="5"/>
                                </Border.Effect>
                                <Border.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="p4scale" Storyboard.TargetProperty="ScaleX"
                                    To="1.008" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p4scale" Storyboard.TargetProperty="ScaleY"
                                    To="1.008" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p4shadow" Storyboard.TargetProperty="Opacity"
                                    To="0.4" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="MouseLeave">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="p4scale" Storyboard.TargetProperty="ScaleX"
                                    To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p4scale" Storyboard.TargetProperty="ScaleY"
                                    To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p4shadow" Storyboard.TargetProperty="Opacity"
                                    To="0" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Border.Triggers>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="190"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Canvas HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                            <Rectangle Width="24" Height="24" Fill="#84DEDE" Canvas.Bottom="0" Canvas.Left="-23"/>
                                            <Ellipse Width="48" Height="48" Fill="{StaticResource BackgroundBrush}"
                                                 Canvas.Bottom="0" Canvas.Left="-48"/>
                                        </Canvas>
                                        <Border CornerRadius="24,24,24,0">
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="1,0" StartPoint="0,1" MappingMode="RelativeToBoundingBox" SpreadMethod="Reflect">
                                                    <GradientStop Color="#88e1e1"/>
                                                    <GradientStop Color="#028491" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <Image Source="/Images/boardmanager.png" Stretch="UniformToFill"  Margin="-20,-20,0,0"/>
                                        </Border>
                                    </Grid>
                                    <StackPanel Grid.Column="0" Margin="20,0">
                                        <TextBlock Style="{StaticResource SubHeaderTextBlockBlockStyle}" Text="{DynamicResource mp_presetmanager}" HorizontalAlignment="Left" Margin="0,20,0,0"/>
                                        <TextBlock Style="{StaticResource FlatTextBlockStyle}" TextWrapping="Wrap" HorizontalAlignment="Left"
                                               TextAlignment="Left" Margin="0,20">                                
                                            <Run Text="{DynamicResource mp_changepresetsad}"/>
                                        </TextBlock>
                                    </StackPanel>
                                    <Button Style="{StaticResource FlatTextButtonStyle}"
                                            Command="{Binding OpenBoardManagerCommand}"
                                            Content="{DynamicResource mp_openmanager}" HorizontalContentAlignment="Left" HorizontalAlignment="Left" Grid.Row="1" VerticalAlignment="Bottom" Margin="20,0,20,20"/>
                                </Grid>
                            </Border>

                            <Border Width="480" Height="200" BorderThickness="1" Background="{StaticResource BackgroundBrush}" BorderBrush="{StaticResource BorderColorBrush}"
                                Margin="0,0,0,40"
                                CornerRadius="24"
                                Padding="0">
                                <Border.RenderTransform>
                                    <ScaleTransform x:Name="p5scale"/>
                                </Border.RenderTransform>
                                <Border.Effect>
                                    <DropShadowEffect x:Name="p5shadow" ShadowDepth="0" Color="#DFE5AD" Opacity="0" BlurRadius="5"/>
                                </Border.Effect>
                                <Border.Triggers>
                                    <EventTrigger RoutedEvent="MouseEnter">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="p5scale" Storyboard.TargetProperty="ScaleX"
                                    To="1.008" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p5scale" Storyboard.TargetProperty="ScaleY"
                                    To="1.008" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p5shadow" Storyboard.TargetProperty="Opacity"
                                    To="0.7" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="MouseLeave">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetName="p5scale" Storyboard.TargetProperty="ScaleX"
                                    To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p5scale" Storyboard.TargetProperty="ScaleY"
                                    To="1" Duration="0:0:0.2"/>
                                                    <DoubleAnimation Storyboard.TargetName="p5shadow" Storyboard.TargetProperty="Opacity"
                                    To="0" Duration="0:0:0.2"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Border.Triggers>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="190"/>
                                        <ColumnDefinition Width="1*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid>
                                        <Canvas HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,0,24,0" Panel.ZIndex="5">
                                            <Path Data="M0,0 L25,0 L24,24 A24,24 -90 0 0 0,0" Fill="{StaticResource BackgroundBrush}" StrokeThickness="0"/>
                                        </Canvas>
                                        <Border CornerRadius="24,24,0,24" Margin="0,0,-24,0">
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="0,0" StartPoint="1,1" MappingMode="RelativeToBoundingBox" SpreadMethod="Reflect">
                                                    <GradientStop Color="#F1F2B5" Offset="0"/>
                                                    <GradientStop Color="#135058" Offset="1"/>
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <Border.Triggers>
                                                <EventTrigger RoutedEvent="Loaded">
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.GradientStops)[0].Offset"
                                                                             From="0" To="0.2" Duration="0:0:8" RepeatBehavior="Forever" AutoReverse="True"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.GradientStops)[1].Offset"
                                                                             From="1" To="0.8" Duration="0:0:8" RepeatBehavior="Forever" AutoReverse="True"/>
                                                            <PointAnimation From="0,0" To="0.2,0.2" Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.StartPoint)"
                                                                            Duration="0:0:12" RepeatBehavior="Forever" AutoReverse="True"/>
                                                            <PointAnimation From="1,1" To="0.8,0.8" Storyboard.TargetProperty="(Border.Background).(LinearGradientBrush.EndPoint)"
                                                                            Duration="0:0:12" RepeatBehavior="Forever" AutoReverse="True"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </EventTrigger>
                                            </Border.Triggers>
                                            <Image Source="/Images/practice.png" Stretch="UniformToFill"  Margin="20,20,40,0"/>
                                        </Border>
                                    </Grid>
                                    <Border Background="{StaticResource BackgroundBrush}" Grid.Column="1" CornerRadius="0,24,24,24">
                                        <Grid>
                                            <StackPanel Grid.Column="1" Margin="20,0">
                                                <TextBlock Style="{StaticResource SubHeaderTextBlockBlockStyle}" Text="{DynamicResource mp_bingopracticing}" HorizontalAlignment="Left" Margin="0,20,0,0"/>
                                                <TextBlock Style="{StaticResource FlatTextBlockStyle}" TextWrapping="Wrap" HorizontalAlignment="Left"
                                               TextAlignment="Left" Margin="0,20">                                
                                            <Run Text="{DynamicResource mp_ifyouwanttoimpr}"/>
                                                </TextBlock>
                                            </StackPanel>
                                            <Button Grid.Column="1" Style="{StaticResource FlatTextButtonStyle}" Content="{DynamicResource mp_startpractice}" 
                                            Command="{Binding OpenPracticeModalCommand}"
                                            HorizontalContentAlignment="Left" HorizontalAlignment="Left"  VerticalAlignment="Bottom" Margin="20,0,20,20"/>
                                        </Grid>
                                    </Border>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Grid>
        </Viewbox>
        <StackPanel x:Name="stackPanel1" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="40,20"
                    Orientation="Horizontal" RenderTransformOrigin="0.5,0.5">
            <StackPanel.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform/>
                    <TranslateTransform/>
                </TransformGroup>
            </StackPanel.RenderTransform>
            <TextBlock  Style="{StaticResource FlatTextBlockStyle}"
                        Foreground="#1BFEFEFE"  
                        FontSize="12" Text="{DynamicResource mp_createdby}"
                        VerticalAlignment="Center">
            </TextBlock>
            <TextBlock Style="{StaticResource FlatTextBlockStyle}"
                        Foreground="#25FEFEFE"  
                        FontSize="12" Text="DirefulLemur0"
                        VerticalAlignment="Center">
            </TextBlock>
            <Image Height="20" Width="20" Source="/Images/discord.png" Margin="8,0,0,0" VerticalAlignment="Center"
                    MouseLeftButtonDown="Discord_Click" Cursor="Hand" ToolTip="Discord">
                <Image.Style>
                    <Style TargetType="Image">
                        <Setter Property="Opacity" Value="0.5"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Opacity" Value="1"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>
            <Image Height="20" Width="20" Source="/Images/twitch.png" Margin="8,0,0,0" VerticalAlignment="Center"
                    MouseLeftButtonDown="Twitch_Click" Cursor="Hand" ToolTip="Twitch">
                <Image.Style>
                    <Style TargetType="Image">
                        <Setter Property="Opacity" Value="0.5"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Opacity" Value="1"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Image.Style>
            </Image>

        </StackPanel>
        <TextBlock x:Name="textBlock"  Style="{StaticResource FlatTextBlockStyle}"
                    Foreground="#1BFEFEFE"  HorizontalAlignment="Left" VerticalAlignment="Bottom"
                    FontSize="12" Text="{DynamicResource mp_imagesprovidedb}" Cursor="Hand"
                    Margin="40,0,20,20" MouseLeftButtonDown="Freepik_Click" RenderTransformOrigin="0.5,0.5">
            <TextBlock.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform/>
                    <TranslateTransform/>
                </TransformGroup>
            </TextBlock.RenderTransform>
        </TextBlock>
    </Grid>
</Page>
